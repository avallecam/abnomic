---
title: "Covariates: table 1 + table 2"
author: "Andree Valle Campos"
date: '`r Sys.Date()`'
output:
  html_document:
  #pdf_document:
  # html_notebook:
    toc: yes
    toc_depth: 6
    toc_float:
      collapsed: yes
    #theme: united
    code_folding: "hide"
    #fig_caption: TRUE
    #number_sections: TRUE
bibliography: malaria.bib
link-citations: yes
#csl: american-medical-association.csl
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, #fig.path = "01-",
                      warning = FALSE)
# knitr::opts_knit$set(root.dir = '../.')
options(width = 90) # expand limits of CONSOLE output
```

## To-do

- ( ) remover glimpse
- ( ) retirar parasitemia sin mil
- ( ) minimalizar formato

## Packages

```{r}
library(tidyverse)
library(compareGroups)
```

## Data input

```{r}
sevdb_2ws <- read_rds("data/03-sevrcov-228obs_21var.rds") %>% janitor::clean_names()
sevdb_2ws %>% glimpse()
```

```{r}
sevdb_3sv <- read_rds("data/03-sevrcov.rds") %>% janitor::clean_names()
sevdb_3sv %>% glimpse()
```

## Table 1

```{r}
sevdb_2ws_clean <- sevdb_2ws %>% 
  select(-(sev_who_num_1:sev_who_num_4),
         -(sev_who_1:sev_who_4),
         -shock_oms_pa) %>% 
  select(starts_with("edad"),
         sexo:enf_sum,
         tx_par_intest,
         parasitemia,parasitemia_mil,parasitemia_mil_4,
         en_zona_endemica,en_zona_endemica_4,
         episodio_previo,
         everything())

```

### all variables

```{r}
sevdb_2ws_clean %>% 
  # count(study)
  compareGroups(study~.,data = .,
                method = c(parasitemia=2,parasitemia_mil=2)) %>% 
  createTable(digits = 1,
              sd.type = 2,
              show.n = T,
              show.all = T) %>% 
  export2md()
```

## Table 2

```{r}

```

